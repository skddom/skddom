<? /* Служебная часть */for ( $f_RowNum = 0; $f_RowNum < $rowCount; $f_RowNum ++ ) {	if ( $fetch_row[ $f_RowNum ] instanceof Iterator ) {		extract( $fetch_row[ $f_RowNum ]->to_array(), EXTR_PREFIX_ALL, "f" );	} else {		extract( $fetch_row[ $f_RowNum ], EXTR_PREFIX_ALL, "f" );	}	foreach ( $iteration_RecordTemplate[ $f_RowNum ] as $value ) {		extract( $value );	}	eval( $cc_env["convert2txt"] );	ob_start();	/* Конец служебной части */ ?>	<?php	$sql     = "Select SmallPhoto,BigPhoto from Message20 where Object = 9999 AND `Date` BETWEEN '$f_StageDate_Sql' AND DATE_ADD('$f_StageDate_Sql', interval 1 day)";	$objects = $db->get_results( $sql, ARRAY_A );	$images  = '';	if ( count( $objects ) ) {		foreach ( $objects as $row ) {			list( , , , $small ) = explode( ':', $row['SmallPhoto'] );			list( , , , $big ) = explode( ':', $row['BigPhoto'] );			$images .= "<img src='/netcat_files/$small' style='margin: 5px'>";			//$images .= "<a class='stages-small-image' href='#' onclick=\"$('a[href=#photo]').click();$(document).scrollTop( $('#result').offset().top );  \"><img src='/netcat_files/$small'></a>";		}	}	$id                  = ( $f_StageSection_ID == 3 ? '' : '_' . $f_StageSection_ID );	$f_StageReports_Name = $db->get_var( "SELECT c.StageReports$id" . "_Name name FROM Classificator_StageReports$id c WHERE c.Checked=1 AND c.StageReports$id" . "_ID = $f_StageReports_ID" );	$str = str_replace( array(		'%i1',		'%i2',		'%d1',		'%d2',		'%t1',		'%t2'	), array(		$f_Number1,		$f_Number2,		$f_date1_text,		$f_date2_text,		$f_StageObjectType,		$f_StageGroundwork	), $f_StageReports_Name );	print "<tr><td>$f_StageDate_Digits</td><td" . ( strlen( $images ) ? '' : ' colspan=2' ) . ">$str</td>" . ( strlen( $images ) ? "<td style='width: 280px'>$images</td>" : '' ) . "</tr>\n";	?>	<?/* Служебная часть */	echo nc_finishing_RecordTemplate( ob_get_clean(), $inside_admin, $classID, $f_RowID, $parent_message, $cc, $cc_env["Class_Name"], $no_cache_marks );}/* Конец служебной части */ ?>