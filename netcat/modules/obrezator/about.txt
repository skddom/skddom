/********************************
Обрезатор v1.0 beta инструкция.
********************************/

/********************************
У вас есть замечаения, или пожелания? Тогда отпраляйте их на support@aglion.ru
********************************/

Модуль предназначен для внедрения в функционал системы NetCat методов для обработки изображений:
1. Масштабирование. { AGLION_RESIZE() }
2. Обрезка. { AGLION_RESIZE() }
3. Нанесение водяных штампов { AGLION_MASK() }

При вызове функций обработки проверяется существования готового файла, на основе времён создания и 
входящих параметров. Т.е. обработка файла происходит только при первом вызове функции, в последствии
используется уже готовое изображение.



Функция масштабирования изображений:
string $OutUrl = AGLION_RESIZE(string $In_Url [, int $Width=0 [, int $Height=0 [, char $mode=$MODULE_VARS[obrezator][mode] ]]])

$OutUrl - URL обработанного изображения
$InUrl  - URL входящего изображения
$Width  - Ширина, по умолчанию указывается в настройках модуля, если $Width = '', то в расчет берется параметр $Height , 
		  тогда будет создано изображение пропорциональное исходному и высотой $Height.
$Height - Высота, по умолчанию указывается в настройках модуля, если $Height = '', то в расчет берется параметр $Width , 
		  тогда будет создано изображение пропорциональное исходному и шириной $Width.
		  
$mode   - Режим обработки, по умолчанию указывается в настройках модуля
		  При $mode = r преобразуются размеры.
		  При $mode = c выполняется обрезка изображений
		  
Примечания: 
		  1. При $mode = c при значении $Width или $Height = '', изображение пропорционально 
		     масштабируется и обрезается по квадрату c заданной стороной $Height или $Width соответственно.
		  2. Имена преобразованных файлов имеют вид $InName_$Width_x_$Height_$mode.$InType
		     Где $InName имя входящего файла
			     $InType расширение входящего файла
		  3. Обработанные изображения хранятся в директории /netcat_files/obrezator/

Примеры:
		  //преобразование изображения $input к размеру 100*100px
		  AGLION_RESIZE($input,100,100,'r');
		  //Если настройки модуля имеют вид: width=100, height=100, mode=r
		  //то данное преобразование можно записать
		  AGLION_RESIZE($input);
		  
		  //масштабирование изображения $input к изображению с шириной в 347px
		  AGLION_RESIZE($input,347,'','r');
		  
		  //пропорциональное масштабирование изображения $input к размеру 50*50px и в случасе необходимости обрезка полей
		  AGLION_RESIZE($input,'',50,'с');
		  
		  
		  
		  
Функция нанесения водяных штампов:
string $OutUrl = AGLION_MASK(string $In_Url [, string $MaskUr = $MODULE_VARS[obrezator][watermark]')

$OutUrl - URL обработанного изображения
$InUrl  - URL входящего изображения	  
$maskUrl- URL водяного штампа, наносится по центру изображения в пропорции 1:1 к размерам штампа,
		  по умолчанию штамп указывается в настройках модуля.

Примечания:
		  1. Имена преобразованных файлов имеют вид $InName_m.$InType
		     Где $InName имя входящего файла
			     $InType расширение входящего файла
		  2. Обработанные изображения хранятся в директории /netcat_files/obrezator/mark
		  3. Рекомендуется использовать для  штампов .png файлы с уже настроенной прозрачностью.
		  
Примеры:
		  //Нанесение водяного штампа $stamp в центр изображения $input
		  AGLION_MARK($input,$stamp);
		  
		  //Нанесение водяного штампа, указанного в настройках модуля, в поле  watermark, в центр изображения $input
		  AGLION_MARK($input);
				 
Change Log:

v1.0 beta 
	1. Релиз