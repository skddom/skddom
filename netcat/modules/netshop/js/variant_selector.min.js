function nc_netshop_init_variant_selector(g){var a=$.extend({},{updated_regions:".tpl-variable-part",selector:"[data-role='variant-selector']",page_title:"title",request_params:"&isNaked=1",cache:!0,replace_location:!0,on_update:$.noop},g);if("string"==typeof a.on_update)a.on_update=new Function("updated_regions",a.on_update);var h=function(b){var b=$("<div/>").append(b),c=$(a.updated_regions),d=b.find(a.updated_regions);c.each(function(a,b){$(b).replaceWith(d.eq(a))});if(a.page_title&&(b=b.find(a.page_title).text(),
b.length))document.title=b;e();a.on_update(d)},i=function(b){if(nc_netshop_variant_cache[b])return $.Deferred().resolveWith(window,[nc_netshop_variant_cache[b]]).promise();var c=b+(-1==b.indexOf("?")?"?":"&")+"request_type=get_variant";a.request_params&&(c+=a.request_params);c=$.get(c);a.cache&&c.done(function(a){nc_netshop_variant_cache[b]=a});return c},f=function(b){var c=$(this);if(c=c.attr("href")||c.find("option:selected").attr("value")||c.val())a.replace_location&&window.history.pushState&&
window.history.replaceState(null,null,c),i(c).done(h);b.preventDefault()},e=function(){$("select"+a.selector+", *"+a.selector+" select, *"+a.selector+" input:radio").off(".netshop_variants").on("change.netshop_variants",f);$("*"+a.selector+" a").off(".netshop_variants").on("click.netshop_variants",f)};e()}if(!window.nc_netshop_variant_cache)var nc_netshop_variant_cache={};
